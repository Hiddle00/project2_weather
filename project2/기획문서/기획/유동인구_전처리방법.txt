무엇에 사용할 것인가 : 모델에 사용
문제점 파악
 1. 산간지역 : 매장이 카페만 있어서 건수가 카페만
  > 전주와 지역적 특색이 너무 다르기 때문에 이상치로 간주하고 제거?
  > 바꿔 말하면 전주와 유사한 지역특성을 가진 데이터만 학습시켜야 한다
  > or 모든 데이터를 학습 시킨 뒤 범주에서 전주만 가져오는건?
(강릉시,
 2. 스케일링과 인코딩 동시에?
 3. 배달 데이터만으론 외식 추천을 정확하게 할 수 없음
  > 추천을 배달/외식 으로 나눈다.
  > 외식은 배달 건수의 반대 패턴이라고 가정
  > 날씨좋음,주말오후,연휴 > 배달 감소, 외식 증가
  > 너무더움/추움,미세먼지,비,눈 > 배달 증가, 외식 감소
  > 배달량의 계절/요일성 패턴으로 외식 빈도 역추적
  > 유동인구 데이터를 반영한다.

유형	작업		예
숫자형	스케일링		MinMax,Standard
범주형	인코딩		OneHot,Label
텍스트	토큰,벡터		TF-IDF,Word2Vec
시간/날짜	파싱,파생변수	datetime > year,month,weekday


컬럼그룹 A — 시간/날짜 정보
date	2020-08-01
hour	0~23
weekday	0~6
is_weekend	0/1
is_holiday	0/1
month	1~12
season	1~4 (옵션)

컬럼그룹 B — 날씨 Feature
temperature	27.3
rainfall	2.4
humidity	85
wind_speed	1.5
wind_direction	270
weather_type	비/눈/맑음

컬럼그룹 C — 외식 추정 Feature (유동인구 중심)
total_flow	시간대 총 유동인구
male_flow	남성 유동인구
female_flow	여성 유동인구
age_20_flow	20대 유동인구
age_30_flow	30대 유동인구
tourist_flow	관광지 유동인구(옵션)
commuting_flow	출퇴근 시간대 유동인구
resident_population	상주 인구
 > 외식 빈도의 가장 강력한 대체 지표.

컬럼그룹 D — 배달업 생태 특성 (지역 고유 정보)
전주 기준:
  주변 음식점 수
  음식점 카테고리 다양성
  프랜차이즈 비중
  상권 밀도
  거주/상업 지역 구분
고정 값이라 날짜/시간에 따라 변하지 않음.
restaurant_count = 850
category_diversity = 12
franchise_ratio = 0.45

컬럼그룹 E — 타깃: 음식 카테고리별 배달량
한식_배달건수
치킨_배달건수
중식_배달건수
카페/디저트_배달건수
...
패스트푸드_배달건수
 > 회귀 모델 또는 클러스터링 기반 추천 점수로 사용

통합
date	hour	weekday	temp	rain	humidity	flow	치킨	중식	카페	…
2020-08-01	18	Sat	29.1	0	75	3200	54	39	102	…
2020-08-01	19	Sat	28.7	0	73	4800	76	55	113	…

전주의 날씨 기반 음식 추천 모델을 만들려면
이런 구성의 데이터셋이 필요함:
날짜·시간
날씨 정보
유동인구 정보 (외식 대체 지표)
지역 상권 특성
음식 카테고리별 배달 건수(타깃)
이 5가지가 결합된 단일 테이블 형태의 시계열 학습데이터가 표준임.



1. 배달 데이터에서 외식 가능성을 간접 추정하는 방법

배달과 외식은 완전히 독립적이지 않음.
외식이 많으면 배달이 줄고, 외식이 줄면 배달이 늘어나는 경향이 있음.

✔ 방법 1) 배달 건수의 반대 패턴 = 외식 증가 지점
예:
날씨 좋음 → 배달 ↓ → 외식 ↑ 가능성 높음
주말 오후 → 배달 ↓ → 외식 ↑
연휴 → 배달 ↓ → 외식 ↑
→ 배달량의 계절성/요일성 패턴을 이용하여 외식 빈도를 역추정


4. 외식/배달 균형 값을 모델링으로 추정

배달 데이터의 시계열을 보면
외식 증가/감소가 배달 패턴에 강하게 반영됨.

수학적으로:
외식 지수 = 평균 배달량 - 실제 배달량
또는
예측한 배달량 < 실제 배달량 → 외식 증가
예측한 배달량 > 실제 배달량 → 외식 감소

즉, 배달 예상치와 괴리를 외식 지표로 사용 가능.


