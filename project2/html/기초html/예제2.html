<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ë‚ ì”¨ ì •ë³´ & ì¶”ì²œ ìŒì‹</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        .card { border: 1px solid #ddd; padding: 20px; border-radius: 10px; margin: 20px auto; max-width: 600px; }
        .btn { padding: 12px; border: none; width: 100%; background: #2f80ed; color: white; border-radius: 6px; cursor: pointer; }
    </style>
</head>
<body>

<div class="card">
    <h2>ğŸ“ ì§€ì—­: <span id="loc"></span></h2>
    <h3>ğŸŒ¤ í˜„ì¬ ë‚ ì”¨</h3>
    <p>ê¸°ì˜¨: <span id="temp"></span>Â°C</p>
    <p>êµ¬ë¦„: <span id="cloud"></span>%</p>
    <p>ê°•ìˆ˜ëŸ‰: <span id="rain"></span> mm</p>
    <p>ìŠµë„: <span id="humidity"></span>%</p>

    <h3>ğŸœ ì¶”ì²œ ìŒì‹</h3>
    <p id="food"></p>

    <button class="btn" onclick="goMap()">ê·¼ì²˜ ìŒì‹ì  ë³´ëŸ¬ê°€ê¸°</button>
</div>

<script>
const params = new URLSearchParams(location.search);
const loc = params.get("loc");
document.getElementById("loc").textContent = loc;

// ì‹¤ì œ API í˜¸ì¶œ ëŒ€ì‹  "ìë¦¬"ë¥¼ ë§Œë“¤ì–´ ë‘”ë‹¤.
async function loadWeather() {
    // ì—¬ê¸°ì— OpenWeatherMap API í˜¸ì¶œ ê°€ëŠ¥
    // ì˜ˆ: `https://api.openweathermap.org/data/2.5/weather?q=LOC&appid=YOUR_KEY&units=metric`

    // ì„ì‹œ ë°ì´í„° (ë°ëª¨ìš©)
    const data = {
        temp: 12,
        cloud: 80,
        rain: 2.5,
        humidity: 60
    };

    document.getElementById("temp").textContent = data.temp;
    document.getElementById("cloud").textContent = data.cloud;
    document.getElementById("rain").textContent = data.rain;
    document.getElementById("humidity").textContent = data.humidity;

    // ì¶”ì²œ ë¡œì§ (ì˜ˆì‹œ)
    let food = "";
    if (data.temp < 10) food = "ë”°ëœ»í•œ êµ­ë¬¼ ìš”ë¦¬: ë¼ë©˜, ìš°ë™, ì„¤ë íƒ•";
    else if (data.rain > 1) food = "ë¹„ ì˜¤ëŠ” ë‚ ì—” íŒŒì „ + ë§‰ê±¸ë¦¬";
    else if (data.cloud > 70) food = "ì¡°ê¸ˆ ë¬´ê±°ìš´ ìŒì‹: ì¹´ë ˆ, ì°œë‹­";
    else food = "ê°€ë²¼ìš´ ìŒì‹: ìƒëŸ¬ë“œ, ì´ˆë°¥";

    document.getElementById("food").textContent = food;
}

loadWeather();

function goMap() {
    window.location.href = "map.html?loc=" + encodeURIComponent(loc);
}
</script>

</body>
</html>